vim.api.nvim_command('hi clear')
vim.o.background = 'dark'
vim.o.termguicolors = true
vim.g.colors_name = 'aklk1ng'

local p = {
  bg = '#1b1c22',
  bg_dim = '#1e2027',
  bg_alt = '#2a2f3b',
  fg_dim = '#454b50',
  fg = '#909190',
  fg_alt = '#707070',
  red = '#a35858',
  pink = '#91697e',
  orange = '#987053',
  yellow = '#8a7c51',
  green = '#6a8447',
  blue = '#5a7497',
  cyan = '#588281',
  purple = '#636899',
  grey = '#808080',
  fancy = '#50585e',
  none = 'NONE',
}

_G.palette = p

local syntax = {
  Normal = { fg = p.fg, bg = p.bg },
  Terminal = { fg = p.fg, bg = p.bg },
  SignColumn = { fg = p.fg, bg = p.bg },
  WinSeparator = { fg = p.fg_dim },
  Folded = { fg = p.grey, bg = p.bg_dim },
  EndOfBuffer = { fg = p.bg, bg = p.none },
  Search = { fg = p.bg, bg = p.yellow },
  CurSearch = { fg = p.bg, bg = p.orange },
  ColorColumn = { link = 'CursorLine' },
  Conceal = { fg = p.grey, bg = p.none },
  CursorColumn = { link = 'CursorLine' },
  FoldColumn = { fg = p.bg_alt },
  CursorLineFold = { fg = p.yellow },
  CursorLine = { bg = p.bg_dim },
  LineNr = { fg = p.bg_alt },
  CursorLineNr = { fg = p.fg_alt },
  Added = { fg = p.green },
  Changed = { fg = p.blue },
  Removed = { fg = p.red },
  DiffAdd = { fg = p.green },
  DiffChange = { fg = p.blue },
  DiffDelete = { fg = p.red },
  DiffText = { fg = p.orange },
  Directory = { fg = p.blue, bg = p.none },
  ErrorMsg = { link = 'Error' },
  Error = { fg = p.red, bold = true },
  ModeMsg = { fg = p.grey },
  MoreMsg = { fg = p.grey },
  QuickFixLine = { bold = true },
  WarningMsg = { fg = p.yellow, bg = p.none, bold = true },
  MatchParen = { fg = p.pink, bg = p.fg_dim, bold = true },
  NonText = { link = 'Comment' },
  Whitespace = { fg = p.bg_alt },
  SpecialKey = { fg = p.grey },
  Pmenu = { fg = p.fg_alt, bg = p.bg_dim },
  PmenuKind = { fg = p.yellow, bg = p.bg_dim },
  PmenuSel = { fg = p.fg_alt, bg = p.bg_alt },
  PmenuMatch = { fg = p.green },
  PmenuSbar = { bg = p.bg_dim },
  PmenuThumb = { link = 'PmenuSbar' },
  WildMenu = { link = 'Pmenu' },
  WinBar = { link = 'StatusLine' },
  WinBarNC = { link = 'StatusLineNC' },
  TabLine = { fg = p.grey },
  StatusLine = { bg = p.bg },
  StatusLineNC = { bg = p.bg },
  NormalFloat = { fg = p.fg_alt },
  FloatBorder = { fg = p.fg_alt },
  Visual = { bg = p.bg_alt },
  Boolean = { fg = p.orange },
  Number = { fg = p.purple },
  Float = { link = 'Number' },
  Constant = { fg = p.pink },
  PreProc = { fg = p.pink },
  PreCondit = { fg = p.pink },
  Include = { fg = p.pink },
  Define = { fg = p.purple },
  Conditional = { fg = p.pink },
  Repeat = { fg = p.purple },
  Keyword = { fg = p.pink },
  Typedef = { link = 'Type' },
  Exception = { link = 'Conditional' },
  Statement = { fg = p.purple },
  StorageClass = { fg = p.orange },
  Tag = { fg = p.orange },
  Label = { fg = p.purple },
  Structure = { fg = p.orange },
  Operator = { fg = p.grey },
  Title = { fg = p.orange, bold = true },
  Special = { fg = p.yellow },
  Function = { fg = p.blue },
  String = { fg = p.green },
  Character = { link = 'String' },
  Type = { fg = p.yellow },
  Identifier = { fg = p.yellow },
  Comment = { fg = p.fancy },
  Delimiter = { fg = p.grey },

  DiagnosticError = { fg = p.red },
  DiagnosticWarn = { fg = p.yellow },
  DiagnosticInfo = { fg = p.blue },
  DiagnosticHint = { fg = p.cyan },
  DiagnosticOk = { fg = p.green },
  DiagnosticSignError = { link = 'DiagnosticError' },
  DiagnosticSignWarn = { link = 'DiagnosticWarn' },
  DiagnosticSignInfo = { link = 'DiagnosticInfo' },
  DiagnosticSignHint = { link = 'DiagnosticHint' },
  DiagnosticSignOk = { link = 'DiagnosticOk' },
  DiagnosticUnderlineError = { undercurl = true },
  DiagnosticUnderlineWarn = { undercurl = true },
  DiagnosticUnderlineInfo = { undercurl = true },
  DiagnosticUnderlineHint = { undercurl = true },

  CursorWord = { bg = p.bg_alt },
  LspInlayHint = { fg = p.fg_dim },

  LspSignatureActiveParameter = { bg = p.bg_alt },

  -- nvim-treesitter
  ['@function.builtin'] = { link = 'Function' },
  ['@method'] = { link = 'Function' },
  ['@keyword.function'] = { fg = p.purple },
  ['@keyword.operator'] = { fg = p.pink },
  ['@keyword.repeat'] = { link = 'Repeat' },
  ['@keyword.return'] = { link = 'Repeat' },
  ['@property'] = { link = '@variable' },
  ['@type.qualifier'] = { fg = p.green },
  ['@type.builtin'] = { link = 'Type' },
  ['@variable'] = { fg = p.grey },
  ['@variable.builtin'] = { link = 'Special' },
  ['@variable.parameter.builtin'] = { link = 'Special' },
  ['@punctuation.bracket'] = { link = 'Delimiter' },
  ['@punctuation.delimiter'] = { link = 'Delimiter' },
  ['@punctuation.special'] = { link = 'Delimiter' },
  ['@constructor'] = { link = 'Function' },
  ['@namespace'] = { fg = p.orange },
  ['@module'] = { fg = p.orange },
  ['@attribute'] = { link = 'Special' },
  ['@markup.raw.block.markdown'] = { fg = p.fg_alt },
  ['@nospell'] = { fg = p.pink },
  ['@macro'] = { fg = p.pink },
  ['@markup'] = { fg = p.fg_alt },
  ['@markup.strong.markdown_inline'] = { fg = p.orange },
  ['@markup.list.unchecked.markdown'] = { fg = p.pink },
  ['@markup.heading'] = { link = 'Title' },
  ['@markup.heading.1'] = { fg = p.orange, bold = true },
  ['@markup.heading.2'] = { fg = p.yellow, bold = true },
  ['@markup.heading.3'] = { fg = p.green, bold = true },
  ['@markup.heading.4'] = { fg = p.fancy, bold = true },
  ['@markup.heading.5'] = { fg = p.blue, bold = true },
  ['@markup.heading.6'] = { fg = p.purple, bold = true },

  -- LSP Semantic Token
  ['@lsp.type.variable'] = {},
  ['@lsp.type.operator'] = { link = 'Operator' },
  ['@lsp.type.parameter'] = { link = '@variable.parameter' },
  ['@lsp.type.builtinType'] = { link = 'Type' },
  ['@lsp.type.decorator'] = { link = '@attribute' },
  ['@lsp.type.deriveHelper'] = { link = '@attribute' },
  ['@lsp.type.escapeSequence'] = { link = '@string.escape' },
  ['@lsp.type.formatSpecifier'] = { link = '@punctuation.special' },
  ['@lsp.type.generic'] = { link = '@variable' },
  ['@lsp.type.macro'] = { link = 'Constant' },
  ['@lsp.type.class'] = { link = 'StorageClass' },
  ['@lsp.type.enumMember'] = { link = '@property' },
  ['@lsp.type.unresolvedReference'] = { undercurl = true },
  ['@lsp.typemod.enumMember.defaultLibrary'] = { link = 'Special' },
  ['@lsp.typemod.struct.defaultLibrary'] = { link = 'Type' },
  ['@lsp.typemod.variable.declaration'] = { link = '@variable' },
  ['@lsp.typemod.variable.callable'] = { link = 'Function' },
  ['@lsp.typemod.variable.static'] = { link = 'Constant' },

  -- gitsigns.nvim
  GitSignsAdd = { fg = p.green },
  GitSignsChange = { fg = p.blue },
  GitSignsDelete = { fg = p.red },

  -- Telescope
  TelescopeSelection = { bg = p.bg_dim },
  TelescopePromptNormal = { fg = p.grey, bg = p.bg_dim },
  TelescopePromptTitle = { fg = p.bg, bg = p.blue },
  TelescopePromptBorder = { fg = p.bg_dim, bg = p.bg_dim },
  TelescopeResultsBorder = { fg = p.bg, bg = p.bg },
  TelescopePreviewBorder = { fg = p.bg, bg = p.bg },
  TelescopePreviewTitle = { fg = p.bg, bg = p.purple },

  -- nvim-cmp
  CmpItemAbbrMatch = { link = 'PmenuMatch' },
  CmpDoc = { link = 'Pmenu' },
  CmpItemKindKeyword = { link = 'Keyword' },
  CmpItemKindFunction = { link = 'Function' },
  CmpItemKindMethod = { link = 'CmpItemKindFunction' },
  CmpItemKindModule = { link = '@module' },
  CmpItemKindVariable = { link = '@variable' },
  CmpItemKindField = { link = '@property' },
  CmpItemKindConstant = { link = 'Constant' },
}

for group, conf in pairs(syntax) do
  vim.api.nvim_set_hl(0, group, conf)
end
